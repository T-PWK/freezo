<html xmlns:layout="http://www.thymeleaf.org/thymeleaf/layout" xmlns:th="http://www.thymeleaf.org" th:remove="tag">
<div class="ui breadcrumb">
	<a href="#/dashboard" class="section">Dashboard</a><i class="right angle icon divider"></i><a class="section" href="#/admin">Administration</a>
	<i class="right angle icon divider"></i>
	<div class="section active">Websites</div>
</div>
<div class="ui divider hidden"></div>
<div class="ui stackable grid">
	<div class="four wide column">

		<div class="ui vertical menu">
			<a class="item" ng-click="reload()">Reload websites<i class="icon refresh"></i></a>
			<a class="item" href="#/admin/websites/new">Add website<i class="icon add"></i></a>
			<div class="item">
				<i class="filter icon"></i> Show websites by status
				<div class="menu">
					<a class="item" ng-click="filterBy()" ng-class="filterCls()">All</a>
					<a class="item" ng-click="filterBy('enabled')" ng-class="filterCls('enabled')"><i class="checkmark icon"></i>Enabled</a>
					<a class="item" ng-click="filterBy('disabled')" ng-class="filterCls('disabled')"><i class="remove icon"></i>Disabled</a>
					<a class="item" ng-click="filterBy('pending_remove')" ng-class="filterCls('pending_remove')"><i class="icon trash"></i>Pending remove</a>
				</div>
			</div>
		</div>
	</div>
	<div class="twelve wide column">
		<div class="ui info icon message" ng-if="websites.totalElements==0">
			<i class="globe icon"></i>
			<div class="content">
				<div class="header">No websites found!</div>
				<p>There is no websites meeting your search or filter criteria.</p>
			</div>
		</div>
		<div class="ui basic segment" ng-class="{loading:loading}" ng-show="websites.totalElements>0">
			<div class="ui two column grid">
				<div class="column" th:text="#{websites.numberOfItems}" ng-show="websites.totalElements>0">SHOWING X OF Y</div>
				<div class="column">
					<div class="ui right floated horizontal list">
						<a class="item" ng-class="{disabled:websites.first}" href="" ng-click="pageAt(websites.number)"><i
							class="icon angle double left"></i>Previous</a> <a class="item" ng-class="{disabled:websites.last}" href=""
						ng-click="pageAt(websites.number+2)">Next<i class="icon angle double right"></i></a>
					</div>
				</div>
			</div>
			<div class="ui divider"></div>
			<div class="ui very relaxed list divided">

				<div class="item" ng-repeat="website in websites.content">
					<i class="globe huge disabled icon" ng-class="{ENABLED:'green',DISABLED:'orange',PENDING_REMOVE:'red'}[website.status]"></i>
					<div class="content">
						<div class="header">
							<a ng-href="#/admin/websites/{{website.id}}">{{website.name}}</a>
						</div>
						<div class="description">{{website.description}}</div>
						<div class="description"></div>
						<div class="ui list">
							<div class="item">
								<span class="ui red basic label" ng-if="website.status=='PENDING_REMOVE'"><i class="icon calendar"></i>
									Website deletion at {{(website.deleteRequestedAt+604800000)|date:'medium'}}</span>
							</div>
							<div class="item" ng-if="website.status=='DISABLED'">
								<span class="ui orange basic label">Website disabled</span>
							</div>
							<div class="item" ng-if="website.status=='ENABLED'" ng-repeat="host in website.hosts">
								<i class="icon globe"></i>{{host}}
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

</html>